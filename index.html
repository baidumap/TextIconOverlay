<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Texticonoverlay by baidumap</title>
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="javascripts/respond.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!--[if lt IE 8]>
    <link rel="stylesheet" href="stylesheets/ie.css">
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
     <style type="text/css">
     #mapContainer
        {
            width: 800px;
            height: 400px;
            border: 1px solid gray;
        }
    </style>
    <script type="text/javascript" src="http://api.map.baidu.com/api?v=1.2"></script>
    <script type="text/javascript" src="http://api.map.baidu.com/library/TextIconOverlay/1.2/src/TextIconOverlay_min.js"></script>

  </head>
  <body>
      <div id="header">
        <nav>
          <li class="fork"><a href="https://github.com/baidumap/TextIconOverlay">View On GitHub</a></li>
          <li class="downloads"><a href="https://github.com/baidumap/TextIconOverlay/zipball/master">ZIP</a></li>
          <li class="downloads"><a href="https://github.com/baidumap/TextIconOverlay/tarball/master">TAR</a></li>
          <li class="title">DOWNLOADS</li>
        </nav>
      </div><!-- end header -->

    <div class="wrapper">

      <section>
        <div id="title">
          <h1>Texticonoverlay</h1>
          <p></p>
          <hr>
          <span class="credits left">Project maintained by <a href="https://github.com/baidumap">baidumap</a></span>
          <span class="credits right">Hosted on GitHub Pages &mdash; Theme by <a href="https://twitter.com/michigangraham">mattgraham</a></span>
        </div>

        <div id="mapContainer"></div>
        <input id="btnText" type="button" value="改变Text"  />
        <input id="btnPoint" type="button" value="改变Position"  />
      </section>

    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    <script type="text/javascript" >
        var map = new BMap.Map("mapContainer");
        map.enableScrollWheelZoom();
        var point = new BMap.Point(116.404, 39.915);
        map.centerAndZoom(point, 13);

        var marker = new BMap.Marker(point);
        map.addOverlay(marker);

        var rm = new BMapLib.TextIconOverlay(point, 7);

        map.addOverlay(rm);
        map.addOverlay(new BMapLib.TextIconOverlay(new BMap.Point(116.404, 39.885), 15));
        map.addOverlay(new BMapLib.TextIconOverlay(new BMap.Point(116.354, 39.915), 24));
        map.addOverlay(new BMapLib.TextIconOverlay(new BMap.Point(116.454, 39.915), 48));
        map.addOverlay(new BMapLib.TextIconOverlay(new BMap.Point(116.404, 39.945), 99));

        rm.addEventListener("click", function (e) {
            // console.log(e);
        });
        rm.addEventListener("mouseover", function (e) {
            // console.log(e);
        });
        rm.addEventListener("mouseout", function (e) {
            // console.log(e);
        });

        var btnOpen = document.getElementById('btnText');
        btnOpen.onclick = function (event) {
            rm.setText(35);
        };

        var newPt = new BMap.Point(116.404, 39.895);
        var btnClose = document.getElementById('btnPoint');
        btnClose.onclick = function () {
            rm.setPosition(newPt);
            marker.setPosition(newPt);
        };
    </script>
    
  </body>
</html>